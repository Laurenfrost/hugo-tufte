{{ $type := .Get "type" }}
{{ if eq $type "full" }}

  <figure class="fullwidth">
    {{ with .Get "link" }}<a href="{{ . }}">{{ end }}
    <img src="{{ .Get "src" }}" {{ with .Get "alt"}}alt="{{ . }}"{{ end }}>
    {{ if .Get "link" }}</a>{{ end }}
    <figcaption>
      {{ with .Get "title"}}<strong>{{ . }}</strong>{{ end }}
      {{ with .Get "attrlink"}}by <a href="{{ .}}">{{ end }}
      {{ with .Get "attr" }}{{ . }}{{ end }}
      {{ if .Get "attrlink" }}</a>{{ end }}
      </br>
      {{ with .Get "caption"}}{{ . }}{{ end }}
    </figcaption>
  </figure>

{{ else }}{{ if eq $type "margin" }}

  <figure {{ with .Get "class" }} class="{{ . }}"{{ end }}>
    <!-- <label for="{{ .Get "label" }}" class="margin-toggle">âŠ•</label> -->
    <!-- <label for="{{ .Get "label" }}" class="margin-toggle"><sup>*</sup></label>
    <input type="checkbox" id="{{ .Get "label" }}" class="margin-toggle"> -->
    <span class="marginimage">
      {{ with .Get "link" }}<a href="{{ . }}">{{ end }}
      <img src="{{ .Get "src" }}" {{ with .Get "alt"}}alt="{{ . }}"{{ end }}>
      {{ if .Get "link" }}</a>{{ end }}
      {{ with .Get "title"}}<strong>{{ . }}</strong>{{ end }}
      {{ with .Get "attrlink"}}by <a href="{{ .}}">{{ end }}
      {{ with .Get "attr" }}{{ . }}{{ end }}
      {{ if .Get "attrlink" }}</a>{{ end }}
      </br>
      {{ with .Get "caption"}}{{ . }}{{ end }}
    </span>
  </figure>

{{ else }}

<figure {{ with .Get "class" }} class="{{ . }}"{{ end }}>
  {{ with .Get "link" }}<a href="{{ . }}">{{ end }}
    <img src="{{ .Get "src" }}" {{ with .Get "alt"}}alt="{{ . }}"{{ end }}>
    {{ if .Get "link" }}</a>{{ end }}
  <!-- <label for="{{ .Get "label" }}" class="margin-toggle">âŠ•</label> -->
  <!-- <label for="{{ .Get "label" }}" class="margin-toggle"><sup>*</sup></label>
  <input type="checkbox" id="{{ .Get "label" }}" class="margin-toggle"> -->
  <span class="marginimage">
    {{ with .Get "title"}}<strong>{{ . }}</strong>{{ end }}
    {{ with .Get "attrlink"}}by <a href="{{ .}}">{{ end }}
    {{ with .Get "attr" }}{{ . }}{{ end }}
    {{ if .Get "attrlink" }}</a>{{ end }}
    </br>
    {{ with .Get "caption"}}{{ . }}{{ end }}
  </span>
</figure>

{{ end }}
{{ end }}
